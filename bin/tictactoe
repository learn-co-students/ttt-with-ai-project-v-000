#!/usr/bin/env ruby

require_relative '../config/environment'

def start
  puts "Let's play Tic Tac Toe!!"
  puts "How many players will be participating: 0, 1, or 2?"
  input = gets.strip
  index = input.to_i

  unless input == "exit"
    if index == 0
      new_game = Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Computer.new("O"))
      new_game.play
      play_again?
    elsif index == 1
      new_game = Game.new(player_1 = Players::Human.new("X"), player_2 = Players::Computer.new("O"))
      new_game.play
      play_again?
    elsif index == 2
      new_game = Game.new(player_1 = Players::Human.new("X"), player_2 = Players::Human.new("O"))
      new_game.play
      play_again?
    end
  end

  if input == "wargames"
    games_won = 0
    100.times do
      new_game = Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Computer.new("O"))
      new_game.play
      if new_game.won?
        games_won += 1
      end
    end
    puts "There was #{games_won} win(s)!"
  end
end

def play_again?
  puts "Would you like to play again? Please enter 'y' or 'n':"
  input = gets.strip
  if input == "y" || input == "Y"
    start
  end
end
