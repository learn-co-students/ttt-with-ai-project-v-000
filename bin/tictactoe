#!/usr/bin/env ruby

require_relative '../config/environment'

whos_first = nil
how_many = nil


puts "Welcome to Tic-Tac-Toe!"
while how_many != 0 && how_many != 1 && how_many != 2
  puts "How many humans will be playing? (enter 0, 1, or 2)"
  how_many = gets.chomp.to_i
  if how_many == 0
    game = Game.new(Players::Computer.new("X"), Players::Computer.new("O"))
    game.play
  elsif how_many == 1
    while whos_first != "c" && whos_first != "h"
      puts "Who should go first? (enter c for computer, h for human)"
      whos_first = gets.chomp
      if whos_first == "c"
        #human goes first
        game = Game.new(Players::Human.new("X"), Players::Computer.new("O"))
        game.play
      else
        #computer goes first
        game = Game.new(Players::Computer.new("X"), Players::Human.new("O"))
        game.play
      end
    end
  elsif how_many == 2
    #launch regular game
    game = Game.new
    game.play
  else
    puts "Please enter a valid option"
  end
end
