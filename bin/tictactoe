#!/usr/bin/env ruby
require_relative '../config/environment'
require_relative '../lib/game.rb'
require_relative '../lib/players/computer.rb'
require_relative '../lib/players/human.rb'
require_relative '../lib/board.rb'

## Methods for CLI ##

    def player_options

      puts "Welcome to OsTrItCh-TAC-TOE!"
      sleep 0
      puts "                                  (oo)
                                          V
                                          ||
                                          ||
                                          ||,-v-,_
                                          ||) |   /
                                      _,''   '-,-<
                                     / :       /  ) 
                                    ( :       (   /,
                                     )_;       ) __)
                                        ),_ ,   |
                                        |  / )  |
                                        | /   ) |
                                        ()     ()
                                        //     ||
                                       //      ||
                                      //       ||
                        -- '' -'-'  ,//        /)   -- '' -'-'   "

      puts "Would you like to 1. Watch two advanced ostrich computers play 100 WARGAMES TO THE DEATH, 2. player vs. against an ostritch computer, or 3. play against a friend nearby? Type in 'wargames' or a number to continue."
        input = gets 
      puts "Player 1 is X and Player 2 is O!"

      sleep 1

      puts "Before you begin please remember while playing to select a grid number corresponding to the chart"

      puts " 1 | 2 | 3 "
      puts "-----------" 
      puts " 4 | 5 | 6 "
      puts "-----------"
      puts " 7 | 8 | 9 "

      sleep 3
        input = input.chomp.strip.downcase
        if input ==  "wargames" || input == "1"
            computer_against_computer
          
        elsif input.chomp.strip == "2"
          player_against_ostrich
        
        elsif input.chomp.strip == "3"
          player_against_player
        end
    end
  
    ## Player and Difficulty Settings Methods ##

    def computer_against_computer
      count = 0
      draws = 0
      while count < 100
      puts "Ostrich Battle Royale!"
      game = Game.new(player_1 = Player::Computer_hard.new("X"), player_2 = Player::Computer_hard.new("O"), board = Board.new)
      game.play
        if game.draw?
          draws+=1
          count+=1
        end
      end
      puts "Out of 100 games, there was a draw #{draws} times."
    end

    def player_against_ostrich
      puts "At what difficulty, would you like to play? 1. Easy or 2. Hard?"
      input = gets
      puts "Ostrich V. Player 2!"
      if input.chomp.strip == "1"
        game = Game.new(computer = Player::Computer_easy.new("X"), player_2 = Player::Human.new("O"), board = Board.new)
        game.play
      elsif input.chomp.strip == "2"
        game = Game.new(computer = Player::Computer_hard.new("X"), player_2 = Player::Human.new("O"), board = Board.new)
        game.play
      end
    end

    def player_against_player
      puts "Mono E Mono!"
      puts "Player 1 V. Player 2!"
      game = Game.new(player_1 = Player::Human.new("X"), player_2 = Player::Human.new("O"), board = Board.new)
      game.play
    end

 def play_tic
       loop do
        player_options
        puts "Would you like to play again?"
        input = gets.strip.downcase
        if input != "yes"
           break
         end
      end
      puts "See you next time!"
    end
    
## Beginning of CLI ##
  play_tic
