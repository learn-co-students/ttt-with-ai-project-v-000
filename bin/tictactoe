#!/usr/bin/env ruby

require_relative '../config/environment'

IRB.start

puts "Welcome to Tic Tac Toe!"

# Chooses how many human players are playing

puts "How many human players are playing today?"
players = " "
until (players == 0) || (players == 1) || (players == 2)
  players = gets.chomp.to_i
  if (players != 0) && (players != 1) && (players != 2)
    puts "There's only three choices. Try again..."
  end
end

if players == 0
  player_1 = Players::Computer.new('X')
  player_1.name = "Computer1"
  player_2 = Players::Computer.new('O')
  player_2.name = "Computer2"
elsif players == 1
  player_1 = Players::Human.new('X')
  puts "Please input player 1's name:"
  player_1.name = gets.chomp
  player_2 = Players::Computer.new('O')
  player_2.name = "Computer2"
elsif players == 2
  player_1 = Players::Human.new('X')
  puts "Please input player 1's name:"
  player_1.name = gets.chomp
  player_2 = Players::Human.new('O')
  puts "Please input player 2's name:"
  player_2.name = gets.chomp
end

# Chooses whether 'X' or 'O'

puts "Is player 1 or player 2 first?"
puts " Choose '1' for player 1 or '2' for player 2:"
first_player = " "
until first_player == "1" || first_player == "2"
  first_player = gets.chomp
  if first_player != "1" && first_player != "2"
    puts "1 or 2. Please! Try again:"
  end
end

if first_player == "1"
  first_player = player_1
  second_player = player_2
else
  first_player =  player_2
  second_player = player_1
end

game = Game.new(first_player, second_player)

game.play
