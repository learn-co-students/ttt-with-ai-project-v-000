#!/usr/bin/env ruby

require_relative '../config/environment'


puts "Welcome to Tic Tac Toe!"

puts "How many players?"

players = gets.strip

if players == "0"
  game = Game.new(Players::Computer.new("x"), Players::Computer.new("O")).play
elsif players == "1"
  puts "Who goes first, player or computer?"
  input = gets.strip

  if input == "player"
    game = Game.new(Players::Human.new("X"), Players::Computer.new("O"))
  elsif input == "computer"
    game = Game.new(Players::Computer.new("X"), Players::Human.new("O"))
  else
    puts "Invalid response, please try again."
  end

elsif players == "2"
  game = Game.new(Players::Human.new("X"), Players::Human.new("O"))
end

until game.won?
  game.play
end

def play_again?
  puts "Would you like to play again?  Press Y or N"

  input = gets.strip

  if input == "Y" || input == "y"
    game = Game.new
    until game.won?
      game.play
    end
  elsif input == "N" || input == "n"
    puts "Oh geez, too bad. Maybe try again harder next time boss."
  else
    puts "That's not a viable answer."

    play_again?
  end
end

play_again?
